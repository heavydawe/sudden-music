(this["webpackJsonpsudden-music"]=this["webpackJsonpsudden-music"]||[]).push([[0],{131:function(A,e,t){},132:function(A,e,t){},136:function(A,e,t){},137:function(A,e,t){},138:function(A,e,t){},139:function(A,e,t){},140:function(A,e,t){},141:function(A,e,t){},142:function(A,e,t){"use strict";t.r(e);var a=t(32),i=t.n(a),n=(t(62),t(63),t(6)),r=t(1),c=t(5),o=t(4),s=t.n(o),l=t(14),d=t(9),g=function(A){return{type:"UPDATE_MIDI_CLIP",trackIndex:A.trackDataKey,modifyMidiClip:A}},u=function(A){return{type:"UPDATE_NOTE",trackIndex:A.trackDataKey,modifyNote:A}},I=function(A){return{type:"CHANGE_MIDI_CLIP_COLOR",payload:A}},C=function(A){return{type:"CHANGE_MIDI_NOTE_COLOR",payload:A}};t(79);var Q=t(29),p=t.n(Q),m=(t(89),t(2));var f=function(A){var e=Object(o.useRef)(null),t=Object(o.useRef)(null),a=Object(l.b)();return Object(m.jsxs)(p.a,{isOpen:A.showModal,className:"newTrackModal",appElement:document.getElementById("App"),children:[Object(m.jsxs)("div",{className:"newTrackModalContainer",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:"N\xe9v"}),Object(m.jsx)("p",{children:"Hangszer"})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{id:"newTrackNameInput",autoComplete:"off",type:"text",maxLength:20,minLength:5,required:!0,ref:e},"newTrackNameInput"),Object(m.jsx)("br",{}),Object(m.jsxs)("select",{id:"newTrackInstrumentSelect",defaultValue:A.instrument?A.instrument:"PolySynth",ref:t,disabled:!!A.instrument&&"PolySynth"===A.instrument,children:[Object(m.jsx)("option",{value:"AMSynth",children:"AMSynth"}),Object(m.jsx)("option",{value:"DuoSynth",children:"DuoSynth"}),Object(m.jsx)("option",{value:"FMSynth",children:"FMSynth"}),Object(m.jsx)("option",{value:"MembraneSynth",children:"MembraneSynth"}),Object(m.jsx)("option",{value:"MetalSynth",children:"MetalSynth"}),Object(m.jsx)("option",{value:"MonoSynth",children:"MonoSynth"}),Object(m.jsx)("option",{value:"PluckSynth",children:"PluckSynth"}),Object(m.jsx)("option",{value:"PolySynth",children:"PolySynth"}),Object(m.jsx)("option",{value:"Synth",children:"Synth"})]},"newTrackInstrumentSelect")]})]}),Object(m.jsx)("button",{className:"newTrackModalCancelButton",onClick:function(){A.setShowModal(!1)},children:"M\xe9gsem"}),Object(m.jsx)("button",{className:"newTrackModalAddButton",onClick:function(){if(e.current.validity.valueMissing)alert("K\xe9rlek adj az \xfaj s\xe1vnak nevet!");else if(e.current.value.length<5)alert("K\xe9rlek az \xfaj s\xe1vnak a neve legal\xe1bb 5 karakter legyen!");else{if("add"===A.mode){if(void 0===A.setNextTrackReactKey||void 0===A.nextTrackReactKey)throw Error("Next trackReactKey is undefined!");a({type:"ADD_NEW_TRACK",modifyTrack:{reactKey:A.nextTrackReactKey,dataKey:-1,midiClips:[],instrument:t.current.value,name:e.current.value}}),A.setNextTrackReactKey(A.nextTrackReactKey+1)}else a((i=A.trackKey,n={name:e.current.value,instrument:t.current.value},{type:"CHANGE_TRACK_PROPS",trackIndex:i,newTrackProps:n}));var i,n;A.setShowModal(!1)}},children:"add"===A.mode?"Hozz\xe1ad\xe1s":"Ment\xe9s"})]})},B=s.a.memo((function(A){var e=Object(l.b)(),t=Object(o.useState)(),a=Object(n.a)(t,2),i=a[0],s=a[1],g=Object(o.useState)(!1),u=Object(n.a)(g,2),I=u[0],C=u[1],Q=Object(o.useState)([]),p=Object(n.a)(Q,2),B=p[0],E=p[1];return Object(o.useEffect)((function(){s(function(A){switch(A){case"AMSynth":return(new d.a).toDestination();case"DuoSynth":return(new d.c).toDestination();case"FMSynth":return(new d.d).toDestination();case"MembraneSynth":return(new d.e).toDestination();case"MetalSynth":return(new d.f).toDestination();case"MonoSynth":return(new d.g).toDestination();case"PluckSynth":return(new d.i).toDestination();case"PolySynth":return(new d.j).toDestination();case"Synth":return(new d.l).toDestination();default:throw new Error("Instrument's name is unknown!")}}(A.instrumentName))}),[A.instrumentName]),Object(o.useEffect)((function(){var A=[];B.forEach((function(e){var t=[];e.value.part.clear(),e.value.partNotes.forEach((function(A){return t.push({key:A.key,value:{time:A.value.time,length:A.value.length,note:A.value.note,instrument:i}})})),t.forEach((function(A){return e.value.part.add(A.value)})),A.push({key:e.key,value:{part:e.value.part,partNotes:t},length:e.length})})),E(A)}),[i]),Object(o.useEffect)((function(){A.isDisposed&&(B.forEach((function(A){return A.value.part.dispose()})),s(void 0))}),[A.isDisposed,B]),Object(o.useEffect)((function(){if(void 0!==i&&null!==A.midiClips){var e=A.midiClips.map((function(A){var e=new d.h((function(A,e){e.instrument.triggerAttackRelease(e.note,e.length,A)})).start("".concat(A.startTime,"i"));return{key:A.dataKey,length:A.length,value:{part:e,partNotes:A.notes.map((function(A){var t={note:A.note,instrument:i,length:"".concat(A.length,"i"),time:"".concat(A.startTime,"i")};return e.add(t),{key:A.dataKey,value:t}}))}}}));E(e)}}),[A.midiClips,e,i]),Object(o.useEffect)((function(){if(null!==A.curNoteToModify){var t=B.findIndex((function(e){return e.key===A.curNoteToModify.midiClipDataKey}));switch(A.curNoteToModify.type){case"ADD":var a={time:"".concat(A.curNoteToModify.newNoteProps.startTime,"i"),note:A.curNoteToModify.newNoteProps.note,length:"".concat(A.curNoteToModify.newNoteProps.length,"i"),instrument:i};B[t].value.part.add(a),E((function(e){return[].concat(Object(c.a)(e.slice(0,t)),[Object(r.a)(Object(r.a)({},e[t]),{},{value:Object(r.a)(Object(r.a)({},e[t].value),{},{partNotes:[].concat(Object(c.a)(e[t].value.partNotes),[{key:A.curNoteToModify.newNoteProps.dataKey,value:a}])})})],Object(c.a)(e.slice(t+1)))}));break;case"DELETE":var n=B[t].value.partNotes.findIndex((function(e){return e.key===A.curNoteToModify.noteDataKey}));B[t].value.part.remove(B[t].value.partNotes[n].value),E((function(A){return[].concat(Object(c.a)(A.slice(0,t)),[Object(r.a)(Object(r.a)({},A[t]),{},{value:Object(r.a)(Object(r.a)({},A[t].value),{},{partNotes:[].concat(Object(c.a)(A[t].value.partNotes.slice(0,n)),Object(c.a)(A[t].value.partNotes.slice(n+1)))})})],Object(c.a)(A.slice(t+1)))}));break;case"UPDATE":var o=B[t].value.partNotes.findIndex((function(e){return e.key===A.curNoteToModify.noteDataKey}));B[t].value.part.remove(B[t].value.partNotes[o].value);var s={time:"".concat(A.curNoteToModify.newNoteProps.startTime,"i"),note:A.curNoteToModify.newNoteProps.note,length:"".concat(A.curNoteToModify.newNoteProps.length,"i"),instrument:i};B[t].value.part.add(s),E((function(A){return[].concat(Object(c.a)(A.slice(0,t)),[Object(r.a)(Object(r.a)({},A[t]),{},{value:Object(r.a)(Object(r.a)({},A[t].value),{},{partNotes:[].concat(Object(c.a)(A[t].value.partNotes.slice(0,o)),[Object(r.a)(Object(r.a)({},A[t].value.partNotes[o]),{},{value:s})],Object(c.a)(A[t].value.partNotes.slice(o+1)))})})],Object(c.a)(A.slice(t+1)))}));break;default:throw Error("Unknown curNoteToModify type!")}e({type:"CLEAR_MODIFY_NOTE"})}}),[A.curNoteToModify,B,e,i,A.dataKey]),Object(o.useEffect)((function(){if(null!==A.curMidiClipToModify){switch(A.curMidiClipToModify.type){case"ADD":var t=new d.h((function(A,e){e.instrument.triggerAttackRelease(e.note,e.length,A)})).start("".concat(A.curMidiClipToModify.newMidiClipProps.startTime,"i"));E((function(e){return[].concat(Object(c.a)(e),[{key:A.curMidiClipToModify.newMidiClipProps.dataKey,value:{part:t,partNotes:[]},length:A.curMidiClipToModify.newMidiClipProps.length}])}));break;case"DELETE":var a=B.findIndex((function(e){return e.key===A.curMidiClipToModify.midiClipDataKey}));B[a].value.part.dispose(),E((function(A){return[].concat(Object(c.a)(A.slice(0,a)),Object(c.a)(A.slice(a+1)))}));break;case"UPDATE":var n=B.findIndex((function(e){return e.key===A.curMidiClipToModify.midiClipDataKey}));if(A.curMidiClipToModify.trackDataKey===A.curMidiClipToModify.newMidiClipProps.trackKey){if(A.curMidiClipToModify.newMidiClipProps.length!==B[n].length){E((function(e){return[].concat(Object(c.a)(e.slice(0,n)),[Object(r.a)(Object(r.a)({},e[n]),{},{length:A.curMidiClipToModify.newMidiClipProps.length})],Object(c.a)(e.slice(n+1)))}));break}B[n].value.part.dispose();var o=new d.h((function(A,e){e.instrument.triggerAttackRelease(e.note,e.length,A)})).start("".concat(A.curMidiClipToModify.newMidiClipProps.startTime,"i"));B[n].value.partNotes.forEach((function(A){return o.add(A.value)})),E((function(A){return[].concat(Object(c.a)(A.slice(0,n)),[Object(r.a)(Object(r.a)({},A[n]),{},{value:Object(r.a)(Object(r.a)({},A[n].value),{},{part:o})})],Object(c.a)(A.slice(n+1)))}))}else if(A.curMidiClipToModify.trackDataKey===A.dataKey)B[n].value.part.dispose(),E((function(A){return[].concat(Object(c.a)(A.slice(0,n)),Object(c.a)(A.slice(n+1)))}));else{var s=new d.h((function(A,e){e.instrument.triggerAttackRelease(e.note,e.length,A)})).start("".concat(A.curMidiClipToModify.newMidiClipProps.startTime,"i")),l=A.curMidiClipToModify.newMidiClipProps.notes.map((function(A){return{key:A.dataKey,value:{time:"".concat(A.startTime,"i"),note:A.note,length:"".concat(A.length,"i"),instrument:i}}}));l.forEach((function(A){return s.add(A.value)})),E((function(e){return[].concat(Object(c.a)(e),[{key:A.curMidiClipToModify.newMidiClipProps.dataKey,value:{part:s,partNotes:l},length:A.curMidiClipToModify.newMidiClipProps.length}])}))}break;default:throw Error("Unknown curMidiClipToModify type!")}e({type:"CLEAR_MODIFY_MIDICLIP"})}}),[A.curMidiClipToModify,i,e,B,A.dataKey]),Object(m.jsxs)("div",{className:"trackHeader",children:[Object(m.jsxs)("div",{className:"trackHeaderContainer",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("img",{className:"trackHeaderInstrumentNameImg",src:"data:image/png;base64,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",alt:""}),Object(m.jsx)("br",{}),Object(m.jsx)("img",{className:"trackHeaderInstrumentNameImg",src:"data:image/png;base64,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",alt:""})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{className:"trackHeaderTitle",children:A.trackName}),Object(m.jsx)("br",{}),Object(m.jsx)("span",{className:"trackHeaderInstrumentName",children:A.instrumentName})]})]}),Object(m.jsx)("button",{className:"trackHeaderEditButton",onClick:function(){return C(!0)},children:Object(m.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAMTAAADEwE9ZoPHAAAFFmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0NDYwLCAyMDIwLzA1LzEyLTE2OjA0OjE3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIxLTA1LTAyVDE0OjU3OjE1KzAyOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMS0wNS0wMlQxNToxNjoyNyswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMS0wNS0wMlQxNToxNjoyNyswMjowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpjNDFmNGViMS02ZGNiLTE5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",alt:"Edit"})}),Object(m.jsx)("button",{className:"trackHeaderDeleteButton",onClick:function(){window.confirm("Biztosan t\xf6r\xf6lni szeretn\xe9d a s\xe1vot?")&&(B.forEach((function(A){A.value.part.clear(),A.value.part.dispose()})),e({type:"DESELECT_MIDI_CLIP"}),e({type:"DELETE_TRACK",trackIndex:A.dataKey}))},children:Object(m.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAFFmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0NDYwLCAyMDIwLzA1LzEyLTE2OjA0OjE3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIxLTA0LTI0VDE2OjE1OjU4KzAyOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMS0wNC0yNFQxNjozMjo1MyswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMS0wNC0yNFQxNjozMjo1MyswMjowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2NTY5ZDlkNi02ZDZhLThj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",alt:"X"})}),Object(m.jsx)(f,{showModal:I,setShowModal:C,mode:"edit",trackKey:A.dataKey,instrument:i&&i.name})]})})),E=(t(91),t(15));function j(A,e,t,a,i){return A<0?0:A+e>t?t-e:i?Math.floor(A/a)*a:Math.round(A/a)*a}function b(A,e,t,a){return A<0?0:A+t>e?e-t:a?Math.floor(A/t)*t:Math.round(A/t)*t}var h=function(A){var e=A.canvasProps.canvasWidth,t=A.canvasProps.canvasHeight,a=A.canvasProps.blockSnapSize,i=A.canvasProps.trackOrTileHeight,n=A.canvasProps.gridPadding,r=Object(o.useRef)(null),c=Object(o.useRef)(null);return Object(o.useEffect)((function(){A.isSelected&&(c.current.nodes([r.current]),c.current.getLayer().batchDraw())}),[A.isSelected]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(E.c,{dataKey:A.dataKey,ref:r,x:A.shapeProps.posX,y:A.shapeProps.posY,width:A.shapeProps.width*a*(n/16),height:i,stroke:"black",strokeWidth:.1,cornerRadius:10,fill:A.shapeProps.color,draggable:!0,onDragStart:function(e){0===e.evt.button&&A.handleSelect(!0)},onClick:function(e){0===e.evt.button&&A.handleSelect(!1)},onDragEnd:function(n){var r=j(n.target.x(),n.target.width(),e,a,!1),c=b(n.target.y(),t,i,!1);n.target.position({x:A.shapeProps.posX,y:A.shapeProps.posY}),A.changePos(r,c)},onTransformEnd:function(t){var i=r.current.scaleX();r.current.scaleX(1);var n=Math.round(A.shapeProps.width*i);n*a>e-t.target.x()?A.changeSize(Math.round((e-t.target.x())/a)):A.changeSize(n)}}),A.isSelected&&Object(m.jsx)(E.e,{ref:c,enabledAnchors:["middle-right"],rotateEnabled:!1,borderStroke:"orange",anchorCornerRadius:5,anchorFill:"orange",anchorStrokeWidth:0,resizeEnabled:!0,boundBoxFunc:function(A,e){return e.width<a*(n/16)?(c.current.stopTransform(),A):e.width>a*n?A:e}},"trMidi")]})};t(131);function y(A,e,t){return A/e*t}function w(A,e){return A/e}function k(A,e,t,a,i){return{dataKey:A.dataKey,trackKey:w(A.posY,t),startTime:y(A.posX,a,i),length:A.width,notes:e}}var O=s.a.memo((function(A){var e=102,t=A.numOfTracks,a=A.numOfPhrases,i=Object(l.c)((function(A){return A.arrCanvasProps.gridPadding})),r=Object(l.c)((function(A){return A.arrCanvasProps.midiClipColor})),c=192/(i/16),s=Object(l.b)(),u=Object(o.useRef)(null),I=Object(o.useRef)(null),C=a<4?window.innerWidth-61+(a*i-(window.innerWidth-61)%(a*i)):(window.innerWidth-61+(a*i-(window.innerWidth-61)%(a*i)))*(a/4),Q=e*t,p=Math.round(C/(a*i)),f=Object(o.useState)(0),B=Object(n.a)(f,2),y=B[0],O=B[1],v=Object(o.useState)(-1),D=Object(n.a)(v,2),M=D[0],P=D[1];Object(o.useEffect)((function(){var e;A.isImported&&O(0===(e=A.midiClipsPos).length?0:Math.max.apply(Math,e.map((function(A){return A.dataKey})))+1)}),[A.isImported,A.midiClipsPos]);for(var x=function(A,e,t,a){return A.map((function(A){return{dataKey:A.dataKey,posX:A.startTime/t*e,posY:A.trackKey*a,width:A.length}}))}(A.midiClipsPos,p,c,e),N=[],S=0;S<=a*i;S+=1)N.push(Object(m.jsx)(E.b,{name:"line",points:[S*p+.5,0,S*p+.5,Q],stroke:S%(i/4)?"gray":"black",strokeWidth:S%(i/4)?1:1.5},"arrangeV_"+S));for(var T=0;T<Q;T+=e)N.push(Object(m.jsx)(E.b,{name:"line",points:[0,T,C,T],stroke:"gray",strokeWidth:1},"arrangeH_"+T));for(var K=[],R=1;R<=a/2;R++)K.push(Object(m.jsx)(E.c,{name:"darkMeasure",x:2*R*(C/a)-C/a,y:0,height:Q,width:C/a,fill:"#aaa",opacity:.5},"d_"+2*R));Object(o.useEffect)((function(){d.m.loop=!0,d.m.loopEnd="".concat(4*a,"m")}),[a]),Object(o.useEffect)((function(){d.m.scheduleRepeat((function(A){d.b.schedule((function(){"stopped"!==d.m.state&&(u.current.position({x:Math.trunc(C*d.m.progress)-20,y:0}),I.current.draw())}),A)}),"10i")}),[C]);var U=Object(m.jsx)(E.c,{x:-20,y:0,width:10,height:Q,fillLinearGradientStartPoint:{x:0,y:0},fillLinearGradientEndPoint:{x:10,y:0},fillLinearGradientColorStops:[0,"transparent",.5,"orange",1,"transparent"],opacity:.7,ref:u});return Object(m.jsx)("div",{children:Object(m.jsxs)(E.d,{className:"stageClass",width:C+2,height:Q,onMouseDown:function(A){if(A.evt.preventDefault(),0===A.evt.button)-1!==M&&(A.target!==A.target.getStage()&&"darkMeasure"!==A.target.getAttr("name")&&"line"!==A.target.getAttr("name")||(P(-1),s({type:"DESELECT_MIDI_CLIP"})));else if(1===A.evt.button&&"stopped"===d.m.state){var e=A.currentTarget.getAbsoluteTransform().copy().invert(),t=A.currentTarget.getStage().getPointerPosition(),a=j(e.point(t).x,4*p,C,p,!1);s({type:"SET_CUR_TRANSPORT_POSITION",payload:a/p*c}),u.current.position({x:a-5,y:0}),u.current.getLayer().draw()}},onDblClick:function(A){var t;if(0===A.evt.button&&void 0===A.target.getAttr("dataKey")){var a=A.currentTarget.getAbsoluteTransform().copy().invert(),i=A.currentTarget.getStage().getPointerPosition(),n=k({dataKey:y,posX:j(a.point(i).x,4*p,C,p,!0),posY:b(a.point(i).y,Q,e,!0),width:4},[],e,p,c);O(y+1),s({type:"ADD_MIDI_CLIP",trackIndex:(t={midiClipDataKey:n.dataKey,trackDataKey:n.trackKey,type:"ADD",newMidiClipProps:n}).trackDataKey,modifyMidiClip:t})}},onContextMenu:function(A){A.evt.preventDefault()},children:[Object(m.jsx)(E.a,{children:K},"arrangementDarkMeasures"),Object(m.jsx)(E.a,{children:N},"arrangementGridLines"),Object(m.jsx)(E.a,{onClick:function(A){if(2===A.evt.button){var t=A.target.getAttr("dataKey");s({type:"DESELECT_MIDI_CLIP"}),s({type:"DELETE_MIDI_CLIP",trackIndex:(a={midiClipDataKey:t,trackDataKey:w(x.find((function(A){return A.dataKey===t})).posY,e),type:"DELETE"}).trackDataKey,modifyMidiClip:a})}var a},children:x.map((function(A,t){return Object(m.jsx)(h,{dataKey:A.dataKey,shapeProps:{posX:A.posX,posY:A.posY,width:A.width,color:r},isSelected:A.dataKey===M,canvasProps:{canvasHeight:Q,blockSnapSize:p,canvasWidth:C,trackOrTileHeight:e,gridPadding:i},handleSelect:function(t){var a,i;M!==A.dataKey&&(-1!==M&&s({type:"DESELECT_MIDI_CLIP"}),P(A.dataKey)),t||s((a=w(A.posY,e),i=A.dataKey,{type:"SELECT_MIDI_CLIP",payload:{trackKey:a,midiClipDataKey:i}}))},changeSize:function(A){if(A!==x[t].width){var a=k({dataKey:x[t].dataKey,posX:x[t].posX,posY:x[t].posY,width:A},[],e,p,c);s(g({midiClipDataKey:a.dataKey,trackDataKey:a.trackKey,type:"UPDATE",newMidiClipProps:a}))}},changePos:function(A,a){if(A!==x[t].posX||a!==x[t].posY){var i=w(x[t].posY,e),n=k({dataKey:x[t].dataKey,posX:A,posY:a,width:x[t].width},[],e,p,c);s(g({midiClipDataKey:n.dataKey,trackDataKey:i,type:"UPDATE",newMidiClipProps:n}))}}},A.dataKey)}))},"arrangementMidiClips"),Object(m.jsx)(E.a,{ref:I,children:U},"curPosition")]},"arrangementStage")},"arrangementCanvas")})),v=(t(132),t.p+"static/media/powerOnButton.5d4f8dba.png"),D=t.p+"static/media/powerOffButton.565e8b96.png";var M=function(A){var e=Object(o.useState)(!1),t=Object(n.a)(e,2),a=t[0],i=t[1],r=Object(o.useState)(-1),c=Object(n.a)(r,2),s=c[0],l=c[1],g=Object(o.useRef)(null);return Object(o.useEffect)((function(){if(-1===s&&a){var e=new AudioContext;fetch(A.sampleProps.samplePath).then((function(A){return A.arrayBuffer()})).then((function(A){return e.decodeAudioData(A)})).then((function(e){var t=new d.k({urls:{C4:e},onload:function(){var e=d.m.scheduleRepeat((function(A){t.triggerAttackRelease("C4","8n",A)}),"".concat(A.sampleProps.sampleRepeatTime,"i"),"".concat(A.sampleProps.sampleStartTime,"i"));l(e)}}).toDestination()})).catch((function(A){return console.log(A)}))}else a||-1===s||(d.m.clear(s),l(-1))}),[A.sampleProps,s,a]),Object(m.jsxs)("div",{className:"audioSampler",children:[Object(m.jsx)("span",{children:A.sampleProps.sampleName}),Object(m.jsx)("img",{src:D,alt:"powerButton",ref:g,onClick:function(){return function(A,e,t){A?(t.current.src=D,e(!1)):(t.current.src=v,e(!0))}(a,i,g)}})]})},P=t.p+"static/media/Kick.a8730778.wav",x=t.p+"static/media/OpenHihat.23e1e1e5.wav",N=[P,t.p+"static/media/Clap.90707c55.wav",x,t.p+"static/media/Ride.f03f5a83.wav",t.p+"static/media/Crash.3028beaa.wav"],S=[0,192,96,0,1440],T=[192,384,192,96,1536],K=["L\xe1bdob","Taps","L\xe1bcin","K\xeds\xe9r\u0151 cint\xe1ny\xe9r","Be\xfct\u0151 cint\xe1ny\xe9r"];var R=function(){var A=Object(o.useState)(2),e=Object(n.a)(A,2),t=e[0],a=e[1],i=Object(l.c)((function(A){return A.curTracks})),r=Object(l.c)((function(A){return A.disposeTracks})),c=Object(l.c)((function(A){return A.arrCanvasProps.numOfPhrases})),s=Object(o.useState)(!1),d=Object(n.a)(s,2),g=d[0],u=d[1],I=Object(l.b)();return Object(o.useEffect)((function(){!1!==i.isImported&&a(i.tracks[i.tracks.length-1].reactKey+1)}),[i.isImported]),Object(o.useEffect)((function(){r&&I({type:"TRACKS_CLEARED"})}),[r,I]),Object(o.useEffect)((function(){var A,e;A=i.tracks,e=c,A.every((function(A){return A.midiClips.every((function(A){return A.startTime+192*A.length<=16*e*192}))}))||I({type:"REVERT_ARR_VIEW_NUM_OF_PHRASES",payload:-1})}),[c]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"arrangementViewContainer",children:[Object(m.jsxs)("div",{className:"trackHeaderColumn",children:[i.tracks.map((function(A){return Object(m.jsx)(B,{test:A.reactKey,dataKey:A.dataKey,trackName:A.name,instrumentName:A.instrument,isDisposed:r,curNoteToModify:null!==i.modifiedNote&&i.modifiedNote.trackDataKey===A.dataKey?i.modifiedNote:null,curMidiClipToModify:null!==i.modifiedMidiClip&&(i.modifiedMidiClip.trackDataKey===A.dataKey||void 0!==i.modifiedMidiClip.newMidiClipProps&&i.modifiedMidiClip.newMidiClipProps.trackKey===A.dataKey)?i.modifiedMidiClip:null,midiClips:i.isImported?A.midiClips:null},A.reactKey)})),Object(m.jsx)(f,{showModal:g,setShowModal:u,mode:"add",nextTrackReactKey:t,setNextTrackReactKey:a}),Object(m.jsxs)("button",{className:"addNewTrackButton",onClick:function(){return u(!0)},children:[Object(m.jsx)("img",{className:"addNewTrackImg",src:"data:image/png;base64,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",alt:"",width:"15px"}),"\xdaj s\xe1v..."]})]},"trackHeaders"),Object(m.jsx)(O,{isImported:i.isImported,midiClipsPos:i.tracks.flatMap((function(A){return A.midiClips.map((function(A){return{dataKey:A.dataKey,trackKey:A.trackKey,startTime:A.startTime,length:A.length}}))})),numOfTracks:i.tracks.length,numOfPhrases:c})]},"arrangementViewContainer"),Object(m.jsx)("div",{className:"audioSamplerContainer",children:N.map((function(A,e){return Object(m.jsx)(M,{sampleProps:{samplePath:A,sampleName:K[e],sampleStartTime:S[e],sampleRepeatTime:T[e]}},e)}))})]})},U=t(58),G=(t(133),t(143),U.a.initializeApp({apiKey:"AIzaSyCkxaDY5qiQFkUTV6BErcWg7SRUUHgAXzM",authDomain:"sudden-music-auth-dev.firebaseapp.com",projectId:"sudden-music-auth-dev",storageBucket:"sudden-music-auth-dev.appspot.com",messagingSenderId:"583088525115",appId:"1:583088525115:web:7fd2df2964b0c11ab4b11e"})),L=G.firestore(),J=G.auth();t(136);var Y=function(){var A=Object(l.b)(),e=Object(o.useState)(null!==J.currentUser),t=Object(n.a)(e,2),a=t[0],i=t[1],r=Object(o.useState)(!1),c=Object(n.a)(r,2),s=c[0],d=c[1],g=Object(o.useState)(!1),u=Object(n.a)(g,2),Q=u[0],f=u[1],B=Object(o.useState)(!1),E=Object(n.a)(B,2),j=E[0],b=E[1],h=Object(o.useRef)(null),y=Object(o.useRef)(null),w=Object(o.useRef)(null),k=Object(o.useRef)(null),O=Object(o.useRef)(null),v=Object(o.useRef)(null),D=Object(o.useRef)(null),M=Object(o.useRef)(null);return Object(m.jsxs)("footer",{children:[a?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("button",{onClick:function(){J.signOut().catch((function(A){alert("Hiba t\xf6rt\xe9nt kijelentkez\xe9skor!"),console.log(A)}));var e=document.documentElement;e.style.setProperty("--modal-bg-color","rgb(40, 40, 40)"),e.style.setProperty("--main-bg-color","rgb(40, 40, 40)"),A(C("#6fff00")),A(I("grey")),i(!1)},children:"Kijelentkez\xe9s"}),Object(m.jsx)("button",{onClick:function(){return d(!0)},children:"Be\xe1ll\xedt\xe1sok..."}),Object(m.jsxs)(p.a,{isOpen:s,className:"prefModal",appElement:document.getElementById("App"),children:[Object(m.jsxs)("div",{className:"prefModalContainer",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:"T\xe9mav\xe1laszt\xe1s:"}),Object(m.jsx)("br",{}),Object(m.jsx)("p",{children:"MIDI Clip sz\xedne:"}),Object(m.jsx)("br",{}),Object(m.jsx)("p",{children:"MIDI jel sz\xedne:"})]}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("select",{defaultValue:"darkMode",ref:v,children:[Object(m.jsx)("option",{value:"darkMode",children:"S\xf6t\xe9t"}),Object(m.jsx)("option",{value:"darkModeBlue",children:"S\xf6t\xe9t k\xe9k"}),Object(m.jsx)("option",{value:"fade",children:"\xc1tmenetes 1"}),Object(m.jsx)("option",{value:"fadeFire",children:"\xc1tmenetes 2"}),Object(m.jsx)("option",{value:"warm",children:"Narancs"})]}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{type:"color",ref:D}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{type:"color",ref:M})]})]}),Object(m.jsx)("button",{className:"prefModalCancelButton",onClick:function(){return d(!1)},children:"M\xe9gsem"}),Object(m.jsx)("button",{className:"prefModalSaveButton",onClick:function(){var e=document.documentElement;switch(v.current.value){case"darkMode":e.style.setProperty("--main-bg-color","rgb(40, 40, 40)"),e.style.setProperty("--modal-bg-color","rgb(40, 40, 40)");break;case"darkModeBlue":e.style.setProperty("--main-bg-color","rgb(0, 0, 26)"),e.style.setProperty("--modal-bg-color","rgb(0, 0, 26)");break;case"warm":e.style.setProperty("--main-bg-color","rgb(255, 102, 0)"),e.style.setProperty("--modal-bg-color","rgb(255, 102, 0)");break;case"fadeFire":e.style.setProperty("--main-bg-color","linear-gradient(90deg, rgb(255, 102, 0) 0%, rgb(204, 0, 0) 100%)"),e.style.setProperty("--modal-bg-color","linear-gradient(90deg, rgb(255, 102, 0) 0%, rgb(204, 0, 0) 100%)");break;case"fade":e.style.setProperty("--main-bg-color","linear-gradient(90deg, rgb(12, 38, 167) 0%, rgb(180, 33, 62) 100%)"),e.style.setProperty("--modal-bg-color","linear-gradient(90deg, rgb(12, 38, 167) 0%, rgb(180, 33, 62) 100%)");break;default:throw Error("Unknown theme!")}L.collection("users").doc(J.currentUser.uid).set({theme:v.current.value,midiClipColor:D.current.value,midiNoteColor:M.current.value}).catch((function(A){alert("Be\xe1ll\xedt\xe1sok elment\xe9sekor valamilyen hiba l\xe9pett fel!"),console.log(A)})),A(I(D.current.value)),A(C(M.current.value)),d(!1)},children:"Ment\xe9s"})]})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("button",{onClick:function(){return b(!0)},children:"Bel\xe9p\xe9s"}),Object(m.jsxs)(p.a,{isOpen:j,className:"signInModal",appElement:document.getElementById("App"),children:[Object(m.jsxs)("div",{className:"signInContainer",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:"Email"}),Object(m.jsx)("p",{children:"Jelsz\xf3"})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"text",ref:k}),Object(m.jsx)("input",{type:"password",ref:O})]})]}),Object(m.jsx)("button",{className:"signUpModalCancelButton",onClick:function(){return b(!1)},children:"M\xe9gsem"}),Object(m.jsx)("button",{className:"signUpModalSignUpButton",onClick:function(){J.signInWithEmailAndPassword(k.current.value,O.current.value).then((function(e){i(!0),b(!1),L.collection("users").doc(e.user.uid).get().then((function(e){var t=document.documentElement;switch(e.data().theme){case"darkMode":t.style.setProperty("--main-bg-color","rgb(40, 40, 40)"),t.style.setProperty("--modal-bg-color","rgb(40, 40, 40)");break;case"fade":t.style.setProperty("--main-bg-color","linear-gradient(90deg, rgb(12, 38, 167) 0%, rgb(180, 33, 62) 100%)"),t.style.setProperty("--modal-bg-color","linear-gradient(90deg, rgb(12, 38, 167) 0%, rgb(180, 33, 62) 100%)");break;case"darkModeBlue":t.style.setProperty("--main-bg-color","rgb(0, 0, 26)"),t.style.setProperty("--modal-bg-color","rgb(0, 0, 26)");break;case"warm":t.style.setProperty("--main-bg-color","rgb(255, 102, 0)"),t.style.setProperty("--modal-bg-color","rgb(255, 102, 0)");break;case"fadeFire":t.style.setProperty("--main-bg-color","linear-gradient(90deg, rgb(255, 102, 0) 0%, rgb(204, 0, 0) 100%)"),t.style.setProperty("--modal-bg-color","linear-gradient(90deg, rgb(255, 102, 0) 0%, rgb(204, 0, 0) 100%)");break;default:alert("Hiba t\xf6rt\xe9nt a h\xe1tt\xe9r bet\xf6lt\xe9sekor!")}A(I(e.data().midiClipColor)),A(C(e.data().midiNoteColor))})).catch((function(A){alert("Hiba t\xf6rt\xe9nt a be\xe1ll\xedt\xe1sok bet\xf6lt\xe9sekor!"),console.log(A)}))})).catch((function(A){"auth/user-not-found"===A.code?alert("A megadott email c\xedmhez nem tartozik fi\xf3k!"):"auth/wrong-password"===A.code?alert("A megadott jelsz\xf3 nem helyes!"):"auth/invalid-email"===A.code?alert("A mez\u0151k nem lettek helyesen kit\xf6ltve!"):(alert(A.code),console.log(A))}))},children:"Bel\xe9p\xe9s"})]}),Object(m.jsx)("button",{onClick:function(){return f(!0)},children:"Regisztr\xe1ci\xf3"}),Object(m.jsxs)(p.a,{isOpen:Q,className:"signUpModal",appElement:document.getElementById("App"),children:[Object(m.jsxs)("div",{className:"signUpContainer",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:"Email"}),Object(m.jsx)("p",{children:"Jelsz\xf3"}),Object(m.jsx)("p",{children:"Jelsz\xf3 meger\u0151s\xedt\xe9se"})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{id:"email",type:"email",autoComplete:"off",required:!0,ref:h}),Object(m.jsx)("input",{id:"password",type:"password",autoComplete:"off",required:!0,ref:y,maxLength:15,minLength:5}),Object(m.jsx)("input",{id:"password-confirm",type:"password",autoComplete:"off",required:!0,ref:w,maxLength:15,minLength:5})]})]}),Object(m.jsx)("button",{className:"signUpModalCancelButton",onClick:function(){return f(!1)},children:"M\xe9gsem"}),Object(m.jsx)("button",{className:"signUpModalSignUpButton",onClick:function(){(function(A,e,t){return A.current.validity.valueMissing?(alert("K\xe9rlek add meg az email c\xedmed!"),!1):null===A.current.value.match(/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]{2,}$/)?(alert("A megadott email c\xedm nem valid!"),!1):e.current.validity.valueMissing?(alert("K\xe9rlek adj meg egy jelsz\xf3t!"),!1):e.current.validity.tooShort?(alert("A megadott jelsz\xf3 t\xfal r\xf6vid, 5 - 15 karakterb\u0151l kell, hogy \xe1lljon!"),!1):t.current.validity.valueMissing?(alert("K\xe9rlek er\u0151s\xedtsed meg a jelszavad!"),!1):e.current.value===t.current.value||(alert("A k\xe9t megadott jelsz\xf3 nem egyezik!"),!1)})(h,y,w)&&(J.createUserWithEmailAndPassword(h.current.value,y.current.value).then((function(A){L.collection("users").doc(A.user.uid).set({theme:"darkMode",midiClipColor:"grey",midiNoteColor:"#6fff00"})})).catch((function(A){"auth/email-already-in-use"===A.code?alert("Az email c\xedmhez m\xe1r tartozik egy fi\xf3k!"):alert(A.message)})),f(!1))},children:"Regisztr\xe1ci\xf3"})]})]}),Object(m.jsxs)("div",{className:"footerRightButtons",children:[Object(m.jsx)("button",{onClick:function(){return A({type:"EXPORT_PROJECT"})},children:"Export\xe1l\xe1s..."}),Object(m.jsx)("button",{onClick:function(){var e=document.createElement("input");e.type="file",e.accept=".sudden",e.onchange=function(e){if(e.target.files&&e.target.files.length){var t=e.target.files[0],a=new FileReader;t.name.endsWith(".sudden")||alert("A file t\xedpusa nem megfelel\u0151, k\xe9rlek ellen\u0151rizd, hogy a megfelel\u0151t nyitottad-e meg!"),a.onloadend=function(e){var t=a.result;if(void 0!==t&&null!==t){var i=t.toString().split("\n");if(4===i.length){var n=+i[3];if(isNaN(n)||Math.trunc(n)!==n||n<40||n>250)alert("Nem import\xe1lhat\xf3 a f\xe1jl!");else{var r=i[2];try{var c=JSON.parse(r);if(!function(A){return A.every((function(A){return"dataKey"in A&&"name"in A&&"instrument"in A&&"midiClips"in A}))}(c))return void alert("Nem import\xe1lhat\xf3 a f\xe1jl!");A({type:"CLEAR_EVERY_TRACK"}),setTimeout((function(){A({type:"IMPORT_PROJECT",importedJSON:c}),A({type:"SET_IMPORTED_BPM",payload:n})}),500)}catch(e){return void alert("Hiba t\xf6rt\xe9nt az import\xe1l\xe1skor!")}}}else alert("Nem import\xe1lhat\xf3 a f\xe1jl!")}else alert("Valami hiba keletkezett a projekt beimport\xe1l\xe1sakor!")},a.readAsText(t)}},e.click()},children:"Import\xe1l\xe1s..."})]})]})};t(137);var z=function(){return Object(m.jsx)("header",{id:"header",children:"Sudden Music"})},H=(t(138),"data:image/png;base64,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");function F(A,e){"stopped"===d.m.state?(A.current.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAw+SURBVHhe7d3ddttkGkBh0nY6QBcz3P+NDrBaOvoamRVC0vhHtiXt5znA8kETOyfv1ivZPPzAq75O5kMANuhhMh/yjD/MzLAHaBAFj7J/BAMfgKEaBJk3beADcIxKEOz+TRr8AJxrzzGwyzdm6AOwpD2GwG7ekKEPwC3sJQY2/yYMfgDuYeshsNkXb/ADsAZbDYHNvWiDH4A12loIvJsft+C94Q/AWs0z6uPjs/XbRK0Y/ABsyRa2Aat+gQY/AFu25hBY6yWAB8MfgK2bZ9kqZ+3qysTgB2CP1rYNWNWLMfwB2LM1RcBa1hI/Gv4A7N08635+fHZfdy8Rgx+AontvA+76yw1/AMruGQH3ugTwzvAHoG6ehe8fn93WPQLg4/R+v8zHAJA2zcTP08OPj89u59YB8Mv0Rn+fjwGAyTQb/zc9/Pfx2W3c7NrD9Oas/AHgDbe6L+Amv8TwB4Dj3SICrv4LDH8AON21I+CqP9zwB4DzXTMCrvaDDX8AuNy1IuBanwL4ZX4EAC5zlU8HXKMqxuf8fdQPABby8PDw0/Tw2+OzZSwdAOMb/nzJDwAsbIqAD9PDYjN20QBw3R8ArmfJ+wEW+0GGPwBc31IRsMgPMfwB4HaWiIAlPgUwbkwAAG7n0/x4tosLwtk/ANzepVuAi/6x4Q8A93NJBJz9Dw1/ALi/cyPg3HsArvUNggDAacb3A5zsrGpw9g8A63HOFuDkf2D4A8D6nBoBVvkAEHRSLTj7B4D1OmULcMoG4P38CACs0Ckn6kcHwPQzP8+HAMDGHbUqsPoHgO045lKAmwABIOjNQnD2DwDb89YWwAYAAIK+WwfO/gFgu763BbABAICgV8vA2T8AbN9rWwAbAAAIEgAAEPTiWsD6HwD246XLADYAABD0jyJw9g8A+/N8C2ADAABBAgAAgv62DrD+B4D9enoZwAYAAIIEAAAECQAACPrrWoDr/wCwf4f7AGwAACBIAABAkAAAgKBv1wFc/weAjnEfgA0AAAQJAAAIEgAAECQAACDowQ2AANBjAwAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQ/jP18n354BALv3MLEBAIAgAQAAQQIAAIIEAAAEfbsJcHAjIADs37gBcDzaAABAkAAAgCABAABBf90DMLgPAAD263D9f7ABAIAgAQAAQQIAAIL+dg/A4D4AANifp9f/BxsAAAgSAAAQ9I9LAIPLAACwH8/X/4MNAAAEvbgBGGwBAGD7Xjr7H2wAACBIAABA0KuXAAaXAQBgu15b/w82AAAQ9N0NwGALAADb872z/8EGAACC3twADLYAALAdb539DzYAABB01AZgsAUAgPU75ux/OHoDMP28D/MhALBC06z+OB++6egNwGALAADrdezZ/3BSAAwiAADW55ThP7gJEACCTt4ADLYAALAep579D2dtAKbf834+BADuaJrJZ92kf+4lgD/nRwDgvr7Mjyc56xLAgUsBAHA/56z+Dy4KgEEEAMDtXTL8h4s/BTD9/p/nQwDgBqbZ+2k+PNvFG4DBFgAAbufSs/9hkQAYRAAAXN8Sw39YLAAGEQAA17PU8B8W/SbA6XX5fgAAuIKlZ+zSXwX85/QC/z0fAwALmGfrot/Bs3QADH9ML/Q/8zEAcIF5pv7x+Gw5i94D8JT7AQDgclMAXGVWXy0ABhEAAOe71vAfrhoAgwgAgNNdc/gPVw+AQQQAwPGuPfyHmwTAIAIA4G23GP7DNT4F8KLxhiY+HQAAL5hm5K9jUM5Pr+5mv+iJj1+/fv19PgaAvGnu/zQ9/Pb47DbuEQDDuykCvszHAJA1Df8P08PNZ+K9AuAb9wUAUHbLlf9zdw2AQQQAUHTP4T/c7CbA14w/wGRc+wCA3Ztm3qcx+Oand3P3F/CUbQAAe7aGwX+wqgAYRAAAe7Sm4T+sLgBmD1MHLPq/PQSAe5jm/vj/+K9upq01AL6xDQBgy9Z21v/UqgPgQAgAsCVrHvwHmwiA2fupAz7PxwCwOtPc/9f0sIlZtaUA+MY2AIA12sJZ/1ObC4ADIQDAGmxt8B9sNgAOhAAA97DVwX+w+QA4EAIA3MLWB//BbgLgKTEAwJL2MvSf2mUAPCUGADjXHgf/we4D4EAIAHCMPQ/9pzIB8JwgAGCoDPznsgHwnCAAaKgO/Of8Eb5DFABsm2H/mh9++D9jvpyipGQYPwAAAABJRU5ErkJggg==",d.n(),d.m.start("+0.1","".concat(e,"i"))):(A.current.src=H,d.m.stop())}function X(A){if(!/^\d+$/.test(A.current.value))return alert("A BPM csak sz\xe1mokat tartalmazhat!"),void(A.current.value="120");var e=+A.current.value;return e!==d.m.bpm.value?e>250?(A.current.value="250",void alert("A BPM \xe9rt\xe9ke nem lehet nagyobb 250-n\xe9l!")):e<40?(A.current.value="40",void alert("A BPM \xe9rt\xe9ke nem lehet kisebb 40-n\xe9l!")):e!==Math.trunc(e)?(A.current.value=Math.trunc(e).toString(),alert("A BPM \xe9rt\xe9ke csak eg\xe9sz sz\xe1m lehet!"),void(d.m.bpm.value=Math.trunc(e))):void(d.m.bpm.value=e):void 0}var Z=function(){var A=Object(l.b)(),e=Object(l.c)((function(A){return A.curTransportPosition})),t=Object(l.c)((function(A){return A.importedProps.BPM})),a=Object(o.useRef)(null),i=Object(o.useRef)(null);return Object(o.useEffect)((function(){-1!==t&&null!==i&&(i.current.value=t.toString(),d.m.bpm.value=t,A({type:"CLEAR_IMPORTED_BPM"}))}),[t,A]),Object(m.jsxs)("nav",{children:[Object(m.jsx)("button",{onClick:function(){return F(a,e)},children:Object(m.jsx)("img",{src:H,alt:"Play",width:"10px",ref:a})}),Object(m.jsx)("button",{onClick:function(){"started"===d.m.state?d.m.pause():"paused"===d.m.state&&d.m.start()},children:Object(m.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAxPSURBVHhe7dxddxTHFUBRCGCDk/z/X5rlLNuglKxeCXZAHmm+qurs/TKj1665d043Em/fwBkehuPtxb0djrewLDPCrHx4eLFrLrTnWHaswHywCh8Y/tK9FtpzLDtmYkZYkQ8I3zXjUvsWi457MB+szgeDP1hlqX2LRcctmBF24cPA71Zean9myXENZoTd+BDwfuy1X4/3W7HkuISdvvi/Nsbjw3j57ekniizIsF0X258JAV7DfLA7Bx9UWWxfs+R4CTNCgQOPKS62r1lyPMd8mI+Svx2vbO5xsT06fsxyDfgen43/XoO/P/3E7tRegMX2/8aNzg/jZctffuTFPowR+eV4z8HTgP054M358n+eJddmPp5nPvbmcDdmuZ3GkmsyH6cxH/vyOwB7eme5nc616nHmpzuule+KDTnU/Xwa8+o/93ghXwgdzvrlxiX7PF5+fPqJXXi0s5ePY1B/Pt7zCh537s2X/3nGeDxGgF+Y3IRlt4/Hx/7u/C9ABOzJl/9ljPF4N16+PP3Eyiy6TVhulyUC9mI+Lst87MEhbsByuw5Lbg/m4zrMx/oc4OIst+uy5NZmPq7LfKzNXwEszHID7skOWpsAWNdPxytXZMGty9ndzKfjlcV4fLMoy+22POpci/m4LfOxJk8AFmS53cXH45X5Oasbs5PWpNoWY9Dux13OGszI/ZiRtXgCACfyxTI/ZwSnEwALsdyAmdlRaxEA6/BobQIW3LyczTTsqkU4qEVYbnPxb51zMR9zMR9r8ARgDYYJWImdtQCHtAB3N3NylzMH8zEn8zE/TwAAIEgATM7dzdTc4dyfHTYpu2t+hgdeaey3L8db7mScwefjLfBCAmBiChpYmR02NwEAZ7Dg7se1h/MIAAAIEgCTcncD7MAum5cAgDNZcLfnmsP5BAAABAmACbm7AXZip81JAABAkACAC3CHczuuNVyGAACAIAEwGXc3wI7stvkIAAAIEgAAECQA4EI84rw+1xguRwAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAE/EnTsDO7Li5CAAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAE3k7HG8BtmPHzUUAAECQAACAIAEAAEECAACCBAAABAkAAAgSAHAh/sTp+lxjuBwBAABBAgAAggTAZDziBHZkt81HAABAkACAC3B3czuuNVyGAACAIAEwIXc4wE7stDkJAAAIEgBwJnc3t+eaw/kEwKQsOGAHdtm8BAAABAkAOIO7m/tx7eE8AmBiFhywMjtsbgIAXmnsNvNzZ+MM3h1vgReywCanoKf2cLxyP1+OVyZjd81PAABAkABYgMec83F3Mw9nMR87aw0CYA0ecwIrsbMWIAAWoajn4Y5zPs5kHnbVOgTAOhT1BHzRzMvZTMOuWoQAWIgFB8zMjlqLAIATWW7zc0ZwOgGwGAvuPsZl/3S8ZXLO6j7spvU4sEU9DMdbbsByW4v5uC3zsSZPABY15u2fx1uuzHJbjzO7nXGpfzreshhDsjB3Odfni2RtZuT6zMi6PAFYmMED7skOWpvD24C7nOuw3PZgPq7DfKzPAW7Ckrssy20v5uOyzMce/BPAJsY8vj/ecibLbT/O9HLGpfRf/W5CAOzj8xhMf/98Jl8U+3K25xuX8Mfx4r/63YQA2Mu/x4D6k5xX8gWxP2f8euPSfRwvvzz9xA4Mw57ePTw8/Ha85wS+GFr8TsDLjPF4fOzvzn8zlt7GLLnT+PJvMh+nMR/7crCbs+SeZ7m1mY/nmY+9+R2AzRngbxuX5QfXhsfPwPDD8SNfebwwx1s25YAj3On8j8XGt5iRJ2M8/jFe/vX0EzuzCGPqS86XP88xH+ajxGEHFZecxcZLmBEKHHhYZclZbLyG+WB3Dp73Y8/9erzfisXGJewaAmM8PowX/19ImAXJ73Zacr74uQYzwm58CPiDlZecpcYtmBF24cPAd62y6Cw17sF8sDofDP7SjIvOUmMmZoQV+YDwYvdadhYaKzAfrMIHhrNcc9lZaOzAjDCnN2/+A2VsEbyad6SxAAAAAElFTkSuQmCC",alt:"Pause",width:"10px"})}),Object(m.jsx)("span",{children:"BPM:"}),Object(m.jsx)("input",{type:"number",id:"BPMInput",ref:i,min:40,max:250,defaultValue:120,onKeyUp:function(A){return"Enter"===A.key&&X(i)},onBlur:function(){return X(i)}}),Object(m.jsx)("span",{children:"F\xe9lperi\xf3dusok sz\xe1ma:"}),Object(m.jsxs)("select",{defaultValue:"4",id:"numOfPhrases",onChange:function(t){"started"===d.m.state&&F(a,e),A({type:"CHANGE_ARR_VIEW_NUM_OF_PHRASES",payload:+t.target.value})},children:[Object(m.jsx)("option",{value:"1",children:"1"}),Object(m.jsx)("option",{value:"2",children:"2"}),Object(m.jsx)("option",{value:"4",children:"4"}),Object(m.jsx)("option",{value:"8",children:"8"}),Object(m.jsx)("option",{value:"16",children:"16"}),Object(m.jsx)("option",{value:"32",children:"32"})]}),Object(m.jsx)("span",{children:"R\xe1csok s\u0171r\u0171s\xe9ge:"}),Object(m.jsxs)("select",{defaultValue:"16",onChange:function(t){"started"===d.m.state&&F(a,e),A({type:"CHANGE_ARR_VIEW_GRID_PADDING",payload:+t.target.value})},children:[Object(m.jsx)("option",{value:"4",children:"4"}),Object(m.jsx)("option",{value:"8",children:"8"}),Object(m.jsx)("option",{value:"16",children:"16"}),Object(m.jsx)("option",{value:"32",children:"32"}),Object(m.jsx)("option",{value:"64",children:"64"})]})]})};t(139);function W(A,e,t,a,i){A.unshift(Object(m.jsx)("div",{className:"w"===a?"pianoTileWhite":"pianoTileBlack",id:"piano"+i.toString(),title:e+t.toString(),ref:null,children:e+t.toString()},"piano"+i.toString()))}for(var V=[],q=0;q<120;q++)switch(q%12){case 0:W(V,"C",q/12>>0,"w",q);break;case 1:W(V,"C#",q/12>>0,"b",q);break;case 2:W(V,"D",q/12>>0,"w",q);break;case 3:W(V,"D#",q/12>>0,"b",q);break;case 4:W(V,"E",q/12>>0,"w",q);break;case 5:W(V,"F",q/12>>0,"w",q);break;case 6:W(V,"F#",q/12>>0,"b",q);break;case 7:W(V,"G",q/12>>0,"w",q);break;case 8:W(V,"G#",q/12>>0,"b",q);break;case 9:W(V,"A",q/12>>0,"w",q);break;case 10:W(V,"A#",q/12>>0,"b",q);break;case 11:W(V,"B",q/12>>0,"w",q)}var _=s.a.memo((function(){return Object(m.jsx)("div",{className:"pianoTiles",children:V},"pianoTiles")}));t(140);var $=function(A){var e=A.canvasProps.canvasWidth,t=A.canvasProps.canvasHeight,a=A.canvasProps.blockSnapSize,i=A.canvasProps.trackOrTileHeight,n=Object(o.useRef)(null),r=Object(o.useRef)(null);return Object(o.useEffect)((function(){A.isSelected&&(r.current.nodes([n.current]),r.current.getLayer().batchDraw())}),[A.isSelected]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(E.c,{dataKey:A.dataKey,x:A.shapeProps.posX,y:A.shapeProps.posY,width:A.shapeProps.width*a,height:i,fill:A.shapeProps.color,strokeWidth:0,stroke:"black",draggable:!0,ref:n,onDragStart:function(e){0===e.evt.button&&A.handleSelect()},onClick:function(e){0===e.evt.button&&A.handleSelect()},onMouseOver:function(A){A.target.setAttrs({fill:"yellow"}),A.currentTarget.draw()},onMouseLeave:function(e){e.target.setAttrs({fill:A.shapeProps.color}),e.currentTarget.draw()},onDragEnd:function(n){var r=j(n.target.x(),n.target.width(),e,a,!1),c=b(n.target.y(),t,i,!1);n.target.position({x:A.shapeProps.posX,y:A.shapeProps.posY}),A.changePos(r,c)},onTransformEnd:function(t){var i=n.current.scaleX();n.current.scaleX(1);var r=Math.round(A.shapeProps.width*i);r*a>e-t.target.x()?A.changeSize(Math.round((e-t.target.x())/a)):A.changeSize(r)}}),A.isSelected&&Object(m.jsx)(E.e,{ref:r,enabledAnchors:["middle-right"],rotateEnabled:!1,borderStroke:"orange",anchorCornerRadius:5,anchorFill:"orange",anchorStrokeWidth:0,resizeEnabled:!0,boundBoxFunc:function(A,e){return e.width<a?(r.current.stopTransform(),A):e}},"trNote")]})};t(141);function AA(A){switch(A%12){case 0:return"C"+Math.trunc(A/12);case 1:return"C#"+Math.trunc(A/12);case 2:return"D"+Math.trunc(A/12);case 3:return"D#"+Math.trunc(A/12);case 4:return"E"+Math.trunc(A/12);case 5:return"F"+Math.trunc(A/12);case 6:return"F#"+Math.trunc(A/12);case 7:return"G"+Math.trunc(A/12);case 8:return"G#"+Math.trunc(A/12);case 9:return"A"+Math.trunc(A/12);case 10:return"A#"+Math.trunc(A/12);case 11:return"B"+Math.trunc(A/12);default:return"Unknown"}}function eA(A,e){return A*e}function tA(A,e){return A*e}function aA(A,e,t,a,i,n){return{noteName:AA(119-e/a),startTime:eA(A/i,n),noteDuration:tA(t,n)}}function iA(A,e){var t,a;3===A.length?(t=+A[2],a=A[0]+A[1]):(t=+A[1],a=A[0]);var i=12*e*(9-t);switch(a){case"B":return i;case"A#":return i+e;case"A":return i+2*e;case"G#":return i+3*e;case"G":return i+4*e;case"F#":return i+5*e;case"F":return i+6*e;case"E":return i+7*e;case"D#":return i+8*e;case"D":return i+9*e;case"C#":return i+10*e;case"C":return i+11*e;default:return-1}}function nA(A,e){return A/e}function rA(A,e){return A/e}var cA=27,oA=3240;var sA=function(A){for(var e,t=A.midiClip.length,a=A.gridPadding/4,i=Object(l.c)((function(A){return A.pianoRollCanvasProps.midiNoteColor})),r=192/a,c=Object(l.b)(),s=t<=8?window.innerWidth-61+(t*a-(window.innerWidth-61)%(t*a)):(window.innerWidth-61+(8*a-(window.innerWidth-61)%(8*a)))/8*t,d=Math.round(s/(t*a)),g=function(A,e,t,a){if(0===A.length)return[];var i=[];return A.forEach((function(A){i.push({dataKey:A.dataKey,posX:nA(A.startTime,a)*t,posY:iA(A.note,e),width:rA(A.length,a)})})),i}(A.midiClip.notes,cA,d,r),I=Object(o.useState)(0===(e=A.midiClip.notes).length?0:Math.max.apply(Math,e.map((function(A){return A.dataKey})))+1),C=Object(n.a)(I,2),Q=C[0],p=C[1],f=Object(o.useState)(-1),B=Object(n.a)(f,2),h=B[0],y=B[1],w=[],k=0;k<=t*a;k+=1)w.push(Object(m.jsx)(E.b,{name:"line",points:[k*d+.5,0,k*d+.5,oA],stroke:k%(a/4)?"gray":"black",strokeWidth:k%(a/4)?1:1.5},"v_"+k));for(var O=0;O<oA;O+=cA)w.push(Object(m.jsx)(E.b,{name:"line",points:[0,O,s,O],stroke:"gray",strokeWidth:1},"h_"+O));for(var v=[],D=1;D<=t/2;D++)v.push(Object(m.jsx)(E.c,{name:"darkMeasure",x:2*D*(s/t)-s/t,y:0,height:oA,width:s/t,fill:"#aaa",opacity:.5},"d_"+2*D));return Object(m.jsx)("div",{id:"PianoRollCanvas",children:Object(m.jsxs)(E.d,{className:"stageClass",width:s+2,height:oA,onMouseDown:function(A){-1!==h&&function(A,e){A.target!==A.target.getStage()&&"darkMeasure"!==A.target.getAttr("name")&&"line"!==A.target.getAttr("name")||e(-1)}(A,y)},onDblClick:function(e){if(void 0===e.target.getAttr("dataKey")){var t=e.currentTarget.getAbsoluteTransform().copy().invert(),a=e.currentTarget.getStage().getPointerPosition(),i=aA(j(t.point(a).x,4*d,s,d,!0),b(t.point(a).y,oA,cA,!0),4,cA,d,r);c({type:"ADD_NOTE",trackIndex:(n={midiClipDataKey:A.midiClip.dataKey,noteDataKey:Q,trackDataKey:A.midiClip.trackKey,type:"ADD",newNoteProps:{dataKey:Q,length:i.noteDuration,note:i.noteName,startTime:i.startTime}}).trackDataKey,modifyNote:n}),p(Q+1)}var n},onContextMenu:function(A){A.evt.preventDefault()},children:[Object(m.jsx)(E.a,{children:v},"measureLayer"),Object(m.jsx)(E.a,{children:w},"gridLayer"),Object(m.jsx)(E.a,{onClick:function(e){if(2===e.evt.button){var t=e.target.getAttr("dataKey");c({type:"DELETE_NOTE",trackIndex:(a={midiClipDataKey:A.midiClip.dataKey,noteDataKey:t,trackDataKey:A.midiClip.trackKey,type:"DELETE"}).trackDataKey,modifyNote:a})}var a},children:g.map((function(e,t){return Object(m.jsx)($,{dataKey:e.dataKey,shapeProps:{width:e.width,posX:e.posX,posY:e.posY,color:i},canvasProps:{canvasWidth:s,canvasHeight:oA,blockSnapSize:d,trackOrTileHeight:cA,gridPadding:a},isSelected:e.dataKey===h,handleSelect:function(){h!==e.dataKey&&y(e.dataKey)},changeSize:function(e){if(e!==g[t].width){var a=aA(g[t].posX,g[t].posY,e,cA,d,r);c(u({midiClipDataKey:A.midiClip.dataKey,noteDataKey:g[t].dataKey,trackDataKey:A.midiClip.trackKey,type:"UPDATE",newNoteProps:{dataKey:g[t].dataKey,length:a.noteDuration,note:a.noteName,startTime:a.startTime}}))}},changePos:function(e,a){if(e!==g[t].posX||a!==g[t].posY){var i=aA(e,a,g[t].width,cA,d,r);c(u({midiClipDataKey:A.midiClip.dataKey,noteDataKey:g[t].dataKey,trackDataKey:A.midiClip.trackKey,type:"UPDATE",newNoteProps:{dataKey:g[t].dataKey,length:i.noteDuration,note:i.noteName,startTime:i.startTime}}))}}},e.dataKey)}))},"notesLayer")]},"pianoRollBody")},"PianoRollCanvas")};var lA=function(){var A,e=Object(l.b)(),t=Object(o.useState)(16),a=Object(n.a)(t,2),i=a[0],r=a[1],c=Object(l.c)((function(A){return A.selectedMidiClip})),s=Object(l.c)((function(A){return A.curTracks}));return null!==c&&(A=s.tracks[c.trackKey].midiClips.find((function(A){return A.dataKey===c.midiClipDataKey}))),Object(o.useEffect)((function(){var A;null===(A=document.getElementById("piano60"))||void 0===A||A.scrollIntoView({behavior:"smooth"})}),[c]),void 0===A?(e({type:"DESELECT_MIDI_CLIP"}),Object(m.jsx)(m.Fragment,{})):Object(m.jsx)(m.Fragment,{children:null!==c&&void 0!==A&&Object(m.jsxs)("div",{className:"pianoRollView",children:[Object(m.jsx)("span",{children:"R\xe1csok s\u0171r\u0171s\xe9ge:"}),Object(m.jsxs)("select",{defaultValue:i.toString(),onChange:function(A){return r(+A.target.value)},children:[Object(m.jsx)("option",{value:"4",children:"4"}),Object(m.jsx)("option",{value:"8",children:"8"}),Object(m.jsx)("option",{value:"16",children:"16"}),Object(m.jsx)("option",{value:"32",children:"32"}),Object(m.jsx)("option",{value:"64",children:"64"})]}),Object(m.jsxs)("div",{className:"gridContainer",children:[Object(m.jsx)(_,{}),Object(m.jsx)(sA,{midiClip:A,gridPadding:i})]},"gridContainer")]})})};var dA=function(){return Object(m.jsxs)("div",{className:"App",id:"App",children:[Object(m.jsx)(z,{}),Object(m.jsx)(Z,{}),Object(m.jsxs)("div",{className:"mainPart",children:[Object(m.jsx)(R,{}),Object(m.jsx)(lA,{})]}),Object(m.jsx)(Y,{})]})},gA=function(A){A&&A instanceof Function&&t.e(3).then(t.bind(null,144)).then((function(e){var t=e.getCLS,a=e.getFID,i=e.getFCP,n=e.getLCP,r=e.getTTFB;t(A),a(A),i(A),n(A),r(A)}))},uA=t(28);function IA(A,e,t){return A>=e&&A<t}function CA(A,e,t){return A>e&&A<=t}function QA(A,e,t,a){return A<=t&&e>=a}function pA(A,e){var t=A.startTime,a=t+192*A.length;return e.some((function(e){if(A.dataKey===e.dataKey)return!1;var i=e.startTime,n=i+192*e.length;return IA(t,i,n)||CA(a,i,n)||QA(t,a,i,n)}))}function mA(A,e){var t=A.startTime,a=t+A.length;return e.some((function(e){if(A.dataKey===e.dataKey)return!1;if(A.note!==e.note)return!1;var i=e.startTime,n=i+e.length;return IA(t,i,n)||CA(a,i,n)||QA(t,a,i,n)}))}function fA(A,e){return e.some((function(e){return A.dataKey!==e.dataKey&&A.startTime===e.startTime}))}function BA(A,e){return e.every((function(e){return e.startTime+e.length<=192*A.length}))}var EA=function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tracks:[{reactKey:0,dataKey:0,instrument:"PolySynth",midiClips:[],name:"S\xe1v_A"},{reactKey:1,dataKey:1,instrument:"PolySynth",midiClips:[],name:"S\xe1v_B"}],modifiedNote:null,modifiedMidiClip:null,isImported:!1},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"EXPORT_PROJECT":var t=document.createElement("a"),a=new Blob(["!!!WARNING!!!\nDO NOT MODIFY THIS FILE OR THE PROJECT MIGHT NOT LOAD CORRECTLY!\n"+JSON.stringify(A.tracks)+"\n"+document.getElementById("BPMInput").value],{type:"text/plain"});return t.href=URL.createObjectURL(a),t.download="SuddenMusicProject.sudden",t.click(),A;case"IMPORT_PROJECT":if(void 0===e.importedJSON)throw Error("importedJSON is missing when importing");var i=A.tracks.length?A.tracks[A.tracks.length-1].reactKey+1:0,n=e.importedJSON.map((function(A,e){return Object(r.a)(Object(r.a)({},A),{},{reactKey:i+e})}));return{tracks:n,modifiedNote:null,modifiedMidiClip:null,isImported:!0};case"CLEAR_IMPORT_FLAG":return Object(r.a)(Object(r.a)({},A),{},{isImported:!1});case"ADD_NEW_TRACK":if(void 0===e.modifyTrack)throw Error("Track missing!");if(!A.tracks.length)return{tracks:[{reactKey:e.modifyTrack.reactKey,dataKey:0,name:e.modifyTrack.name,instrument:e.modifyTrack.instrument,midiClips:[]}],modifiedNote:null,modifiedMidiClip:null,isImported:!1};var o=A.tracks[A.tracks.length-1].dataKey;return{tracks:[].concat(Object(c.a)(A.tracks),[{reactKey:e.modifyTrack.reactKey,dataKey:o+1,name:e.modifyTrack.name,instrument:e.modifyTrack.instrument,midiClips:[]}]),modifiedNote:null,modifiedMidiClip:null,isImported:!1};case"DELETE_TRACK":var s=A.tracks.findIndex((function(A){return A.dataKey===e.trackIndex}));return{tracks:[].concat(Object(c.a)(A.tracks.slice(0,s)),Object(c.a)(A.tracks.slice(s+1).map((function(A){return Object(r.a)(Object(r.a)({},A),{},{dataKey:A.dataKey-1,midiClips:A.midiClips.map((function(A){return Object(r.a)(Object(r.a)({},A),{},{trackKey:A.trackKey-1})}))})})))),modifiedNote:null,modifiedMidiClip:null,isImported:!1};case"CHANGE_TRACK_PROPS":if(void 0===e.newTrackProps)throw Error("NewTrackProps is missing when editing track");var l=A.tracks.findIndex((function(A){return A.dataKey===e.trackIndex})),d=A.tracks[l].instrument!==e.newTrackProps.instrument;return{tracks:[].concat(Object(c.a)(A.tracks.slice(0,l)),[Object(r.a)(Object(r.a)({},A.tracks[l]),{},{name:e.newTrackProps.name,instrument:d?e.newTrackProps.instrument:A.tracks[l].instrument})],Object(c.a)(A.tracks.slice(l+1))),modifiedNote:null,modifiedMidiClip:null,isImported:!1};case"CLEAR_MODIFY_NOTE":return Object(r.a)(Object(r.a)({},A),{},{modifiedNote:null});case"CLEAR_MODIFY_MIDICLIP":return Object(r.a)(Object(r.a)({},A),{},{modifiedMidiClip:null});case"ADD_MIDI_CLIP":if(null===e.modifyMidiClip)throw Error("ModifyMidiClip is missing");if(null===e.modifyMidiClip.newMidiClipProps)throw Error("NewMidiClipProps is missing");if(pA(e.modifyMidiClip.newMidiClipProps,A.tracks[e.trackIndex].midiClips))return A;var g=[].concat(Object(c.a)(A.tracks[e.trackIndex].midiClips),[e.modifyMidiClip.newMidiClipProps]);return{tracks:[].concat(Object(c.a)(A.tracks.slice(0,e.trackIndex)),[Object(r.a)(Object(r.a)({},A.tracks[e.trackIndex]),{},{midiClips:g})],Object(c.a)(A.tracks.slice(e.trackIndex+1))),modifiedNote:null,modifiedMidiClip:e.modifyMidiClip,isImported:!1};case"DELETE_MIDI_CLIP":if(null===e.modifyMidiClip)throw Error("ModifyMidiClip is missing");var u=A.tracks[e.trackIndex].midiClips.findIndex((function(A){return A.dataKey===e.modifyMidiClip.midiClipDataKey}));return{tracks:[].concat(Object(c.a)(A.tracks.slice(0,e.trackIndex)),[Object(r.a)(Object(r.a)({},A.tracks[e.trackIndex]),{},{midiClips:[].concat(Object(c.a)(A.tracks[e.trackIndex].midiClips.slice(0,u)),Object(c.a)(A.tracks[e.trackIndex].midiClips.slice(u+1)))})],Object(c.a)(A.tracks.slice(e.trackIndex+1))),modifiedNote:null,modifiedMidiClip:e.modifyMidiClip,isImported:!1};case"UPDATE_MIDI_CLIP":if(null===e.modifyMidiClip)throw Error("ModifyMidiClip is missing");if(null===e.modifyMidiClip.newMidiClipProps)throw Error("NewMidiClipProps is missing");var I=A.tracks[e.trackIndex].midiClips.findIndex((function(A){return A.dataKey===e.modifyMidiClip.midiClipDataKey}));if(e.modifyMidiClip.newMidiClipProps.length<A.tracks[e.trackIndex].midiClips[I].length&&!BA(e.modifyMidiClip.newMidiClipProps,A.tracks[e.trackIndex].midiClips[I].notes))return A;if(e.modifyMidiClip.trackDataKey===e.modifyMidiClip.newMidiClipProps.trackKey){if(pA(e.modifyMidiClip.newMidiClipProps,A.tracks[e.trackIndex].midiClips))return A;var C=[].concat(Object(c.a)(A.tracks[e.trackIndex].midiClips.slice(0,I)),[Object(r.a)(Object(r.a)({},A.tracks[e.trackIndex].midiClips[I]),{},{trackKey:e.modifyMidiClip.newMidiClipProps.trackKey,startTime:e.modifyMidiClip.newMidiClipProps.startTime,length:e.modifyMidiClip.newMidiClipProps.length})],Object(c.a)(A.tracks[e.trackIndex].midiClips.slice(I+1)));return{tracks:[].concat(Object(c.a)(A.tracks.slice(0,e.trackIndex)),[Object(r.a)(Object(r.a)({},A.tracks[e.trackIndex]),{},{midiClips:C})],Object(c.a)(A.tracks.slice(e.trackIndex+1))),modifiedNote:null,modifiedMidiClip:e.modifyMidiClip,isImported:!1}}if(pA(e.modifyMidiClip.newMidiClipProps,A.tracks[e.modifyMidiClip.newMidiClipProps.trackKey].midiClips))return A;var Q=A.tracks[e.modifyMidiClip.trackDataKey].instrument,p=A.tracks[e.modifyMidiClip.newMidiClipProps.trackKey].instrument;if("PolySynth"===Q&&"PolySynth"!==p)return window.alert("Nem h\xfazhat\xf3 \xe1t MIDI clip olyan s\xe1vr\xf3l, amin PolySynth van, csak egy m\xe1sik PolySynth-es s\xe1vra!"),A;if("PolySynth"!==Q&&"PolySynth"===p&&!window.confirm("Biztosan \xe1t szeretn\xe9d h\xfazni ezt a MIDI clippet egy PolySynthes s\xe1vra? Ut\xe1na m\xe1r csak PolySynthes s\xe1vokra lesz h\xfazhat\xf3 a MIDI clip!"))return A;var m=A.tracks.slice(),f=A.tracks[e.trackIndex].midiClips[I];return m[e.trackIndex].midiClips=[].concat(Object(c.a)(m[e.trackIndex].midiClips.slice(0,I)),Object(c.a)(m[e.trackIndex].midiClips.slice(I+1))),m[e.modifyMidiClip.newMidiClipProps.trackKey].midiClips=[].concat(Object(c.a)(m[e.modifyMidiClip.newMidiClipProps.trackKey].midiClips),[{dataKey:f.dataKey,notes:f.notes,length:f.length,startTime:e.modifyMidiClip.newMidiClipProps.startTime,trackKey:e.modifyMidiClip.newMidiClipProps.trackKey}]),{tracks:m,isImported:!1,modifiedNote:null,modifiedMidiClip:Object(r.a)(Object(r.a)({},e.modifyMidiClip),{},{newMidiClipProps:Object(r.a)(Object(r.a)({},e.modifyMidiClip.newMidiClipProps),{},{notes:f.notes}),oldTrackInstrumentName:m[f.trackKey].instrument})};case"ADD_NOTE":if(void 0===e.modifyNote)throw Error("ModifyNote is missing");if(void 0===e.modifyNote.newNoteProps)throw Error("NewNoteProps is missing");var B=A.tracks[e.trackIndex].midiClips.findIndex((function(A){return A.dataKey===e.modifyNote.midiClipDataKey}));if("PolySynth"!==A.tracks[e.trackIndex].instrument&&fA(e.modifyNote.newNoteProps,A.tracks[e.trackIndex].midiClips[B].notes))return alert("Csak a PolySynth tud egyszerre t\xf6bb hangot is lej\xe1tszani!"),A;if(mA(e.modifyNote.newNoteProps,A.tracks[e.trackIndex].midiClips[B].notes))return A;var E=[].concat(Object(c.a)(A.tracks[e.trackIndex].midiClips.slice(0,B)),[Object(r.a)(Object(r.a)({},A.tracks[e.trackIndex].midiClips[B]),{},{notes:[].concat(Object(c.a)(A.tracks[e.trackIndex].midiClips[B].notes),[{dataKey:e.modifyNote.newNoteProps.dataKey,startTime:e.modifyNote.newNoteProps.startTime,length:e.modifyNote.newNoteProps.length,note:e.modifyNote.newNoteProps.note}])})],Object(c.a)(A.tracks[e.trackIndex].midiClips.slice(B+1)));return{tracks:[].concat(Object(c.a)(A.tracks.slice(0,e.trackIndex)),[Object(r.a)(Object(r.a)({},A.tracks[e.trackIndex]),{},{midiClips:E})],Object(c.a)(A.tracks.slice(e.trackIndex+1))),modifiedNote:e.modifyNote,modifiedMidiClip:null,isImported:!1};case"DELETE_NOTE":if(void 0===e.modifyNote)throw Error("ModifyNote is missing");var j=A.tracks[e.trackIndex].midiClips.findIndex((function(A){return A.dataKey===e.modifyNote.midiClipDataKey})),b=A.tracks[e.trackIndex].midiClips[j].notes.findIndex((function(A){return A.dataKey===e.modifyNote.noteDataKey})),h=[].concat(Object(c.a)(A.tracks[e.trackIndex].midiClips.slice(0,j)),[Object(r.a)(Object(r.a)({},A.tracks[e.trackIndex].midiClips[j]),{},{notes:[].concat(Object(c.a)(A.tracks[e.trackIndex].midiClips[j].notes.slice(0,b)),Object(c.a)(A.tracks[e.trackIndex].midiClips[j].notes.slice(b+1)))})],Object(c.a)(A.tracks[e.trackIndex].midiClips.slice(j+1)));return{tracks:[].concat(Object(c.a)(A.tracks.slice(0,e.trackIndex)),[Object(r.a)(Object(r.a)({},A.tracks[e.trackIndex]),{},{midiClips:h})],Object(c.a)(A.tracks.slice(e.trackIndex+1))),modifiedNote:e.modifyNote,modifiedMidiClip:null,isImported:!1};case"UPDATE_NOTE":if(void 0===e.modifyNote)throw Error("ModifyNote is missing");if(void 0===e.modifyNote.newNoteProps)throw Error("NewNoteProps is missing");var y=A.tracks[e.trackIndex].midiClips.findIndex((function(A){return A.dataKey===e.modifyNote.midiClipDataKey}));if("PolySynth"!==A.tracks[e.trackIndex].instrument&&fA(e.modifyNote.newNoteProps,A.tracks[e.trackIndex].midiClips[y].notes))return alert("Csak a PolySynth tud egyszerre t\xf6bb hangot is lej\xe1tszani!"),A;var w=A.tracks[e.trackIndex].midiClips[y].notes.findIndex((function(A){return A.dataKey===e.modifyNote.noteDataKey}));if(mA(e.modifyNote.newNoteProps,A.tracks[e.trackIndex].midiClips[y].notes))return A;var k=[].concat(Object(c.a)(A.tracks[e.trackIndex].midiClips.slice(0,y)),[Object(r.a)(Object(r.a)({},A.tracks[e.trackIndex].midiClips[y]),{},{notes:[].concat(Object(c.a)(A.tracks[e.trackIndex].midiClips[y].notes.slice(0,w)),[{dataKey:e.modifyNote.noteDataKey,startTime:e.modifyNote.newNoteProps.startTime,length:e.modifyNote.newNoteProps.length,note:e.modifyNote.newNoteProps.note}],Object(c.a)(A.tracks[e.trackIndex].midiClips[y].notes.slice(w+1)))})],Object(c.a)(A.tracks[e.trackIndex].midiClips.slice(y+1)));return{tracks:[].concat(Object(c.a)(A.tracks.slice(0,e.trackIndex)),[Object(r.a)(Object(r.a)({},A.tracks[e.trackIndex]),{},{midiClips:k})],Object(c.a)(A.tracks.slice(e.trackIndex+1))),modifiedNote:e.modifyNote,modifiedMidiClip:null,isImported:!1};default:return A}},jA=function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SELECT_MIDI_CLIP":return e.payload;case"DESELECT_MIDI_CLIP":return null;default:return A}},bA=function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{numOfPhrases:4,gridPadding:16,midiClipColor:"grey",prevNumOfPhrases:4},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"CHANGE_ARR_VIEW_NUM_OF_PHRASES":var t=A.numOfPhrases;return Object(r.a)(Object(r.a)({},A),{},{numOfPhrases:e.payload,prevNumOfPhrases:t});case"CHANGE_ARR_VIEW_GRID_PADDING":return Object(r.a)(Object(r.a)({},A),{},{gridPadding:e.payload});case"CHANGE_MIDI_CLIP_COLOR":return Object(r.a)(Object(r.a)({},A),{},{midiClipColor:e.payload});case"REVERT_ARR_VIEW_NUM_OF_PHRASES":return document.getElementById("numOfPhrases").value=A.prevNumOfPhrases.toString(),Object(r.a)(Object(r.a)({},A),{},{numOfPhrases:A.prevNumOfPhrases});default:return A}},hA=function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{gridPadding:16,midiNoteColor:"#6fff00"},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"CHANGE_PIANO_ROLL_VIEW_GRID_PADDING":return Object(r.a)(Object(r.a)({},A),{},{gridPadding:e.payload});case"CHANGE_MIDI_NOTE_COLOR":return Object(r.a)(Object(r.a)({},A),{},{midiNoteColor:e.payload});default:return A}},yA=function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_CUR_TRANSPORT_POSITION":return e.payload;case"CLEAR_SPACE_EVENT":return document.onkeydown=null,A;default:return A}},wA=function(){var A=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"CLEAR_EVERY_TRACK":return!0;case"TRACKS_CLEARED":return!1;default:return A}},kA=function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{BPM:-1},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_IMPORTED_BPM":return Object(r.a)(Object(r.a)({},A),{},{BPM:e.payload});case"CLEAR_IMPORTED_BPM":return Object(r.a)(Object(r.a)({},A),{},{BPM:-1});default:return A}},OA=Object(uA.b)({curTracks:EA,selectedMidiClip:jA,arrCanvasProps:bA,pianoRollCanvasProps:hA,curTransportPosition:yA,disposeTracks:wA,importedProps:kA}),vA=Object(uA.c)(OA);d.m.PPQ=192,i.a.render(Object(m.jsx)(l.a,{store:vA,children:Object(m.jsx)(dA,{})}),document.getElementById("root")),gA()},62:function(A,e,t){},63:function(A,e,t){},79:function(A,e,t){},89:function(A,e,t){},91:function(A,e,t){}},[[142,1,2]]]);
//# sourceMappingURL=main.38d6c75d.chunk.js.map